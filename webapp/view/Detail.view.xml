<mvc:View controllerName="koehler.T2000.controller.Detail" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m"
	xmlns:form="sap.ui.layout.form" xmlns:core="sap.ui.core">
	<Shell id="shell">
		<App id="app">
			<pages>
				<Page id="page" title="{i18n>title}" showHeader="true" showNavButton="true" showFooter="true" backgroundDesign="Solid"
					enableScrolling="false" navButtonPress="onNavBack">
					<content>
						<ScrollContainer vertical="true" horizontal="true" height="calc(100%)">
							<Table id="valueTable" alternateRowColors="true" growing="true" growingScrollToLoad="true" showSeparators="All" items="{/rows}"
								growingThreshold="30" sticky="HeaderToolbar,InfoToolbar,ColumnHeaders" class="tableWidth">
								<headerToolbar>
									<OverflowToolbar id="headerBar" class="horizontalStickyness">
										<Select id="employeeSelect" change="onEmployeeSelect" class="employeeSelect" width="190px">
											<core:ListItem text="Andreas Köhler" key="1"/>
											<core:ListItem text="Thomas Rempel" key="2"/>
											<core:ListItem text="Jurij Rudi" key="3"/>
											<core:ListItem text="Igor Aronov" key="4"/>
											<core:ListItem text="Michaela Bany" key="5"/>
										</Select>
										<Title id="headerText" text="" level="H2"/>
										<SearchField width="40%" placeholder="{i18n>search}" id="search" liveChange="onLiveSearch" search="onSearch"/>
										<ToolbarSpacer/>
										<Button tooltip="{i18n>sortToolTip}" icon="sap-icon://sort" press="onSortButtonClick"/>
										<Button tooltip="{i18n>filterToolTip}" icon="sap-icon://filter" press="onFilterButtonClick"/>
										<Button tooltip="{i18n>groupToolTip}" icon="sap-icon://group-2" press="onGroupButtonClick"/>
									</OverflowToolbar>
								</headerToolbar>
								<infoToolbar>
									<OverflowToolbar id="filterBar" visible="false" class="horizontalStickyness">
										<Text id="filterLabel"/>
									</OverflowToolbar>
								</infoToolbar>
								<columns>
									<Column demandPopin="false">
										<Text text="{i18n>colCategory}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colArea}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colPlanned}"/>
									</Column>
									<Column demandPopin="false" width="50px">
										<Text text="{i18n>colCalendarWeek}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colTask}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colProject}"/>
									</Column>
									<Column demandPopin="false" width="130px">
										<Text text="{i18n>colJira}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colSpec}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colBC}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colStatus}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colBegin}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colRealBegin}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colEnd}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colRealEnd}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colEstimation}"/>
									</Column>
									<Column demandPopin="false" width="50px">
										<Text text="{i18n>colPriority}"/>
									</Column>
									<Column demandPopin="false">
										<Text text="{i18n>colSystem}"/>
									</Column>
									<Column demandPopin="false" width="120px">
										<Text text="{i18n>colTransport}"/>
									</Column>
									<Column demandPopin="false" width="200px">
										<Text text="{i18n>colComment}"/>
									</Column>
									<Column demandPopin="false" visible="false">
										<Text text="{i18n>colCreator}"/>
									</Column>
									<Column demandPopin="false" visible="true">
										<Text text="{i18n>colCreationDate}"/>
									</Column>
									<Column demandPopin="false" visible="true">
										<Text text="{i18n>colChanger}"/>
									</Column>
									<Column demandPopin="false" visible="true">
										<Text text="{i18n>colChangingDate}"/>
									</Column>
									<Column demandPopin="false">
										<Label text="{i18n>edit}"/>
									</Column>
								</columns>
								<items>
									<ColumnListItem>
										<cells>
											<Text text="{Category}"/>
											<Link text="{Area}"/>
											<Switch enabled="false" state="{Planned}" type="AcceptReject"/>
											<Text text="{CalendarWeek}"/>
											<Text text="{Task}"/>
											<Link text="{Project}" target="_blank" href="https://it4you.schwarz/{ProjectType}{Project}"/>
											<Link text="{Jira}" target="_blank" href="https://jira.schwarz/browse/{Jira}"/>
											<Link text="{Spec}" target="_blank" href="https://it4you.schwarz/u_sdur_task_list.do?sysparm_query=number=SPEC{Spec}"/>
											<Text text="{BC}"/>
											<Text text="{Status}"/>
											<Text text="{Begin}"/>
											<Text text="{RealBegin}"/>
											<Text text="{End}"/>
											<Text text="{RealEnd}"/>
											<Text text="{Estimation}"/>
											<Text text="{Priority}"/>
											<Panel content="{path:'System', templateShareable:false}" expandable="true" expanded="false">
												<VBox>
													<Link text="{Name}"/>
												</VBox>
											</Panel>
											<Panel content="{path:'Transport', templateShareable:false}" expandable="true" expanded="false">
												<VBox>
													<Link text="{Name}" width="80px"/>
												</VBox>
											</Panel>
											<Panel content="{path:'Comment', templateShareable:false}" expandable="true" expanded="false">
												<VBox>
													<TextArea value="{Name}" editable="false" growing="true" wrapping="Soft"/>
												</VBox>
											</Panel>
											<Text text="{Creator}"/>
											<Text text="{CreationDate}"/>
											<Text text="{Changer}"/>
											<Text text="{ChangingDate}"/>
											<Button type="Emphasized" icon="sap-icon://edit" press="onEditClick" tooltip="{i18n>edit}"/>
										</cells>
									</ColumnListItem>
								</items>
							</Table>
						</ScrollContainer>
						<Dialog id="entryDialog" visible="false" title="{i18n>edit}" stretch="{device>/isMobile}">
							<content>
								<form:Form editable="true">
									<form:layout>
										<form:ResponsiveGridLayout adjustLabelSpan="false" columnsL="3" labelSpanL="4" columnsM="2" labelSpanM="4" labelSpanS="12"/>
									</form:layout>
									<form:formContainers>
										<form:FormContainer title="{i18n>formPersonData}">
											<form:formElements>
												<form:FormElement>
													<form:label>
														<Label text="{i18n>employee}" width="100%"/>
													</form:label>
													<form:fields>
														<Select id="employeeSelectD" selectedKey="{/Employee}">
															<core:ListItem text="Andreas Köhler" key="1"/>
															<core:ListItem text="Thomas Rempel" key="2"/>
															<core:ListItem text="Jurij Rudi" key="3"/>
															<core:ListItem text="Igor Aronov" key="4"/>
															<core:ListItem text="Michaela Bany" key="5"/>
														</Select>
													</form:fields>
												</form:FormElement>
												<form:FormElement id="editBCElement">
													<form:label>
														<Label text="{i18n>colBC}"/>
													</form:label>
													<form:fields>
														<Input id="editBC" required="true" value="{/BC}"/>
													</form:fields>
												</form:FormElement>
												<!--das-->
												<form:FormElement id="crBCElement" visible="false">
													<form:label>
														<Label text="{i18n>colBC}"/>
													</form:label>
													<form:fields>
														<ComboBox id="crBCCombo" items="{/rows}" required="true">
															<core:ListItem text="{Value}" key="{Key}"/>
														</ComboBox>
													</form:fields>
												</form:FormElement>
											</form:formElements>
										</form:FormContainer>
										<form:FormContainer title="{i18n>formBasisData}">
											<form:formElements>
												<form:FormElement id="editCategoryElement">
													<form:label>
														<Label text="{i18n>colCategory}" width="100%"/>
													</form:label>
													<form:fields>
														<Input id="editCategory" value="{/Category}" required="true"/>
													</form:fields>
												</form:FormElement>
												<form:FormElement id="editAreaElement">
													<form:label>
														<Label text="{i18n>colArea}"/>
													</form:label>
													<form:fields>
														<Input id="editArea" value="{/Area}" required="true"/>
													</form:fields>
												</form:FormElement>
												<form:FormElement id="editTaskElement">
													<form:label>
														<Label text="{i18n>colTask}"/>
													</form:label>
													<form:fields>
														<Input id="editTask" value="{/Task}" required="true"/>
													</form:fields>
												</form:FormElement>
												<!--das-->
												<form:FormElement id="crCategoryElement" visible="false">
													<form:label>
														<Label text="{i18n>colCategory}" width="100%"/>
													</form:label>
													<form:fields>
														<ComboBox id="crCategoryCombo" items="{/rows}" required="true">
															<core:ListItem text="{Value}" key="{Key}"/>
														</ComboBox>
													</form:fields>
												</form:FormElement>
												<form:FormElement id="crAreaElement" visible="false">
													<form:label>
														<Label text="{i18n>colArea}"/>
													</form:label>
													<form:fields>
														<ComboBox id="crAreaCombo" items="{/rows}" required="true">
															<core:ListItem text="{Value}" key="{Key}"/>
														</ComboBox>
													</form:fields>
												</form:FormElement>
												<form:FormElement id="crTaskElement" visible="false">
													<form:label>
														<Label text="{i18n>colTask}"/>
													</form:label>
													<form:fields>
														<ComboBox id="crTaskCombo" items="{/rows}" required="true">
															<core:ListItem text="{Value}" key="{Key}"/>
														</ComboBox>
													</form:fields>
												</form:FormElement>
											</form:formElements>
										</form:FormContainer>
										<form:FormContainer title="{i18n>formTimeData}">
											<form:formElements>
												<form:FormElement>
													<form:label>
														<Label text="{i18n>colCalendarWeek}"/>
													</form:label>
													<form:fields>
														<DatePicker id="calendarWeek" valueFormat="ww" displayFormat="ww" required="true" value="{/CalendarWeek}"/>
													</form:fields>
												</form:FormElement>
												<form:FormElement id="editBeginElement">
													<form:label>
														<Label text="{i18n>colBegin}"/>
													</form:label>
													<form:fields>
														<DatePicker id="editBegin" displayFormat="EEEE, dd. MMMM YYYY" valueFormat="dd.MM.YYYY" required="true" value="{/Begin}"/>
													</form:fields>
												</form:FormElement>
												<form:FormElement id="editRealBeginElement">
													<form:label>
														<Label text="{i18n>colRealBegin}"/>
													</form:label>
													<form:fields>
														<DatePicker id="editRealBegin" displayFormat="EEEE, dd. MMMM YYYY" valueFormat="dd.MM.YYYY" required="true" value="{/RealBegin}"/>
													</form:fields>
												</form:FormElement>
												<form:FormElement id="editEndElement">
													<form:label>
														<Label text="{i18n>colEnd}"/>
													</form:label>
													<form:fields>
														<DatePicker id="editEnd" displayFormat="EEEE, dd. MMMM YYYY" valueFormat="dd.MM.YYYY" required="true" value="{/End}"/>
													</form:fields>
												</form:FormElement>
												<form:FormElement id="editRealEndElement">
													<form:label>
														<Label text="{i18n>colRealEnd}"/>
													</form:label>
													<form:fields>
														<DatePicker id="editRealEnd" displayFormat="EEEE, dd. MMMM YYYY" valueFormat="dd.MM.YYYY" required="true" value="{/RealEnd}"/>
													</form:fields>
												</form:FormElement>
												<!--das-->
												<form:FormElement id="crTimeRangeElement" visible="false">
													<form:label>
														<Label text="{i18n>timeRange}"/>
													</form:label>
													<form:fields>
														<DateRangeSelection id="crTimerange" displayFormat="EEEE, dd. MMMM YYYY" valueFormat="dd.MM.YYYY" required="true"/>
													</form:fields>
												</form:FormElement>
												<form:FormElement>
													<form:label>
														<Label text="{i18n>colEstimation}"/>
													</form:label>
													<form:fields>
														<Input id="estimation" required="true" value="{/Estimation}"/>
													</form:fields>
												</form:FormElement>
											</form:formElements>
										</form:FormContainer>
										<form:FormContainer title="{i18n>formFurtherLinks}">
											<form:formElements>
												<form:FormElement>
													<form:label>
														<Label text="{i18n>colProject}"/>
													</form:label>
													<form:fields>
														<TextArea growing="true" rows="1" id="project" required="true" value="{/Project}"/>
													</form:fields>
												</form:FormElement>
												<form:FormElement>
													<form:label>
														<Label text="{i18n>projectType}"/>
													</form:label>
													<form:fields>
														<Select id="projectTypeSelect" selectedKey="{/ProjectType}">
															<core:ListItem text="{i18n>ap}" key="u_sdur_task_list.do?sysparm_query=number="/>
															<core:ListItem text="{i18n>projectNumber}" key="pm_project_list.do?sysparm_query=u_project_number_on_task="/>
															<core:ListItem text="{i18n>number}" key="pm_project_list.do?sysparm_query=number="/>
														</Select>
													</form:fields>
												</form:FormElement>
												<form:FormElement>
													<form:label>
														<Label text="{i18n>colJira}"/>
													</form:label>
													<form:fields>
														<TextArea growing="true" rows="1" id="jira" required="true" value="{/Jira}"/>
													</form:fields>
												</form:FormElement>
												<form:FormElement>
													<form:label>
														<Label text="{i18n>colSpec}"/>
													</form:label>
													<form:fields>
														<TextArea growing="true" rows="1" id="spec" required="true" value="{/Spec}"/>
													</form:fields>
												</form:FormElement>
											</form:formElements>
										</form:FormContainer>
										<form:FormContainer title="{i18n>formPlanningData}">
											<form:formElements>
												<form:FormElement>
													<form:label>
														<Label text="{i18n>colPlanned}"/>
													</form:label>
													<form:fields>
														<Switch id="planned" type="AcceptReject" state="{/Planned}"/>
													</form:fields>
												</form:FormElement>
												<form:FormElement id="editStatusElement">
													<form:label>
														<Label text="{i18n>colStatus}"/>
													</form:label>
													<form:fields>
														<Input id="editStatus" value="{/Status}" required="true"/>
													</form:fields>
												</form:FormElement>
												<!--das-->
												<form:FormElement id="crStatusElement" visible="false">
													<form:label>
														<Label text="{i18n>colStatus}"/>
													</form:label>
													<form:fields>
														<ComboBox id="crStatusCombo" items="{/rows}" required="true">
															<core:ListItem text="{Value}" key="{Key}"/>
														</ComboBox>
													</form:fields>
												</form:FormElement>
												<form:FormElement>
													<form:label>
														<Label text="{i18n>colPriority}"/>
													</form:label>
													<form:fields>
														<StepInput id="priority" required="true" value="{/Priority}"/>
													</form:fields>
												</form:FormElement>
											</form:formElements>
										</form:FormContainer>
										<form:FormContainer title="{i18n>formSAPData}">
											<form:formElements>
												<form:FormElement>
													<form:label>
														<Label text="{i18n>formSystem}"/>
													</form:label>
													<form:fields>
														<MultiInput id="systemMulti" required="true" showValueHelp="false" tokens="{/System}">
															<tokens>
																<Token text="{Name}"/>
															</tokens>
														</MultiInput>
													</form:fields>
												</form:FormElement>
												<form:FormElement>
													<form:label>
														<Label text="{i18n>formTransport}"/>
													</form:label>
													<form:fields>
														<MultiInput id="transportMulti" required="true" showValueHelp="false" tokens="{/Transport}">
															<tokens>
																<Token text="{Name}"/>
															</tokens>
														</MultiInput>
													</form:fields>
												</form:FormElement>
											</form:formElements>
										</form:FormContainer>
										<form:FormContainer title="{i18n>formComment}">
											<form:formElements>
												<form:FormElement>
													<form:label>
														<Label text="{i18n>colComment}"/>
													</form:label>
													<form:fields>
														<TextArea growing="true" required="true" id="comment" value="{/Comment/0/Name}"/>
													</form:fields>
												</form:FormElement>
											</form:formElements>
										</form:FormContainer>
									</form:formContainers>
								</form:Form>
							</content>
							<buttons>
								<Button text="{i18n>new}" type="Accept" iconDensityAware="false" press="onSaveButtonClick" id="createButton"/>
								<Button id="saveButton" press="onSaveChanges" type="Accept" text="{i18n>save}"/>
								<Button id="cancelButton" press="onCancelChanges" type="Reject" text="{i18n>cancel}"/>
							</buttons>
						</Dialog>
					</content>
					<footer>
						<Toolbar>
							<ToolbarSpacer/>
							<Button id="openCreationButton" text="{i18n>new}" type="Emphasized" press="onCreationButtonClick"/>
							<Button id="backlogButton" text="{i18n>backlog}" type="Emphasized" press="onBacklogButtonClick"/>
						</Toolbar>
					</footer>
				</Page>
			</pages>
		</App>
	</Shell>
</mvc:View>